<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="./images/favicon.ico">
    <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">

    <title>arrival bill detail</title>
    <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/backend.css">


    <!--[if lt IE 9]>
    <script src="./js/libs/html5shiv.min.js"></script>
    <script src="./js/libs/respond.min.js"></script>
    <![endif]-->

</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-md-12 trim-col">
            <div class="admin-header">
                <img src="./images/admin_mgr_logo.png" alt="admin manager logo" class="admin-logo" width="300" height="100">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2 trim-col">
            <div class="admin-sidebar" id="admin-side-menu">
                <div class="panel sidebar-section">
                    <a data-toggle="collapse" data-parent="#admin-side-menu" class="collapsed has-subside" href="#order-receivable-menu">
                        订单收款
                        <span class="pull-right glyphicon glyphicon-menu-right"></span>
                        <span class="pull-right glyphicon glyphicon-menu-down"></span>
                    </a>
                    <div id="order-receivable-menu" class="panel-collapse collapse">
                        <ul class="subside-menu">
                            <li><a href="#">订单收款</a></li>
                            <li><a href="#">收款记录</a></li>
                        </ul>
                    </div>
                </div>
                <div class="panel sidebar-section">
                    <a data-toggle="collapse" data-parent="#admin-side-menu" class="collapsed has-subside" href="#load-return-menu">
                        货款回笼
                        <span class="pull-right glyphicon glyphicon-menu-right"></span>
                        <span class="pull-right glyphicon glyphicon-menu-down"></span>
                    </a>
                    <div id="load-return-menu" class="panel-collapse collapse">
                        <ul class="subside-menu">
                            <li><a href="#">回笼记录</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-10 trim-right">
            <div class="order-list js-received-bill-detail">
                <h4>订单信息：</h4>
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>订单总额</th>
                        <th>订单号</th>
                        <th>订单金额</th>
                        <th>收款人</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="js-this-tr" data-id="1">
                        <td rowspan="6"><span class="js-sub-total">5426757857</span> VND</td>
                        <td><a href="#">6756484758785768784</a></td>
                        <td><span class="js-single-price">67367</span> VND</td>
                        <td>张三</td>
                    </tr>
                    <tr data-par="1">
                        <td><a href="#">6756484758785768784</a></td>
                        <td><span class="js-single-price">67367</span> VND</td>
                        <td>张三</td>
                    </tr>
                    <tr data-par="1">
                        <td><a href="#">6756484758785768784</a></td>
                        <td><span class="js-single-price">67367</span> VND</td>
                        <td>张三</td>
                    </tr>
                    <tr data-par="1">
                        <td><a href="#">6756484758785768784</a></td>
                        <td><span class="js-single-price">67367</span> VND</td>
                        <td>张三</td>
                    </tr>
                    <tr data-par="1">
                        <td><a href="#">6756484758785768784</a></td>
                        <td><span class="js-single-price">67367</span> VND</td>
                        <td>张三</td>
                    </tr>
                    <tr data-par="1">
                        <td><a href="#">6756484758785768784</a></td>
                        <td><span class="js-single-price">67367</span> VND</td>
                        <td>张三</td>
                    </tr>
                    </tbody>
                </table>
                <div class="text-right">
                    <ul class="pagination">
                        <li class="disabled"><a href="#">&laquo;</a></li>
                        <li class="active"><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li><a href="#">&raquo;</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="./js/libs/jquery-1.11.2.min.js"></script>
<script src="./js/libs/bootstrap.min.js"></script>
<script src="./js/ck_lang.js"></script>

<script>
    $(document).ready(function() {
        var $main = $('.js-received-bill-detail');
        function calculatePrice () {
            var $trSet = $main.find('.js-this-tr');
            $trSet.each(function(){
                var $this = $(this);
                var initValue =Number($this.find('.js-single-price').text());
                var thisTrId = $this.data('id');
                var $thisSubSet = $main.find('tr[data-par="'+thisTrId+'"]');
                $thisSubSet.each(function(){
                    var $that = $(this);
                    initValue=initValue+Number($that.find('.js-single-price').text());
                });
                $this.find('.js-sub-total').text(initValue);
            });
        }
        calculatePrice();
    });
</script>
</body>
</html>